<!-- Top navigation bar: Restaurant name + Table number + Settings button -->
<header class="top-nav">
  <div class="restaurant-info">
    <h1>ABC</h1>
    <p>Table No. <%= order.session.table.tableId %></p>
  </div>
  <button class="settings-btn">
    <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
      <path d="M12 15C13.6569 15 15 13.6569 15 12C15 10.3431 13.6569 9 12 9C10.3431 9 9 10.3431 9 12C9 13.6569 10.3431 15 12 15Z" stroke="currentColor" stroke-width="2"/>
      <path d="M19.4 15C19.2669 15.3016 18.8454 15.4657 18.5 15.37C17.75 15.12 17 14.62 16.5 14V10C17 9.38 17.75 8.88 18.5 8.63C18.8454 8.53432 19.2669 8.69838 19.4 9C20.06 10.25 20.4 11.6 20.4 13C20.4 14.4 20.06 15.75 19.4 17C19.2669 17.3016 18.8454 17.4657 18.5 17.37C17.75 17.12 17 16.62 16.5 16H7.5C7 16.62 6.25 17.12 5.5 17.37C5.15457 17.4657 4.73312 17.3016 4.6 17C3.94 15.75 3.6 14.4 3.6 13C3.6 11.6 3.94 10.25 4.6 9C4.73312 8.69838 5.15457 8.53432 5.5 8.63C6.25 8.88 7 9.38 7.5 10V14C7 14.62 6.25 15.12 5.5 15.37C5.15457 15.4657 4.73312 15.3016 4.6 15C3.94 13.75 3.6 12.4 3.6 11C3.6 9.6 3.94 8.25 4.6 7C4.73312 6.69838 5.15457 6.53432 5.5 6.63C6.25 6.88 7 7.38 7.5 8H16.5C17 7.38 17.75 6.88 18.5 6.63C18.8454 6.53432 19.2669 6.69838 19.4 7C20.06 8.25 20.4 9.6 20.4 11C20.4 12.4 20.06 13.75 19.4 15Z" stroke="currentColor" stroke-width="2"/>
    </svg>
  </button>
</header>

<!-- Page Title -->
<div class="page-title">
  <h2>Record</h2>
</div>

<!-- Order Information Card -->
<div class="order-card">
  <!-- Order date and location -->
  <div class="order-header">
    <p class="order-date"><%= new Date(order.createdAt).toLocaleString('en-US', { 
      month: 'short', 
      day: 'numeric', 
      year: 'numeric', 
      hour: 'numeric', 
      minute: 'numeric', 
      hour12: true 
    }) %> | ABC Location</p>
  </div>

  <!-- Menu item titles (hidden, distinguished by style) -->
  <div class="items-header">
    <div class="item-label">Item</div>
    <div class="status-label">Status</div>
    <div class="price-label">Price</div>
  </div>

  <!-- Menu Details -->
  <div class="items-list">
    <% order.dish.forEach(item => { %>
      <div class="dish-item">
        <div class="dish-info">
          <p class="dish-name"><%= item.dish_id.name %></p>
          <% if (item.customer_notes) { %>
            <p class="dish-customization">â€¢ <%= item.customer_notes %></p>
          <% } %>
        </div>
        <div class="dish-status"><%= item.status %></div>
        <div class="dish-price">$<%= item.dish_id.price.toFixed(2) %></div>
      </div>
    <% }) %>
  </div>

  <!-- Total Amount -->
  <div class="total-amount">
    <p>Total Amount:</p>
    <p class="total-value">$<%= order.dish.reduce((sum, item) => sum + (item.dish_id.price * item.quantity), 0).toFixed(2) %></p>
  </div>
</div>

<!-- Bottom Navigation Bar -->
<footer class="bottom-nav">
  <button class="nav-btn menu-btn">
    <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
      <path d="M3 8H21M3 13H21M3 18H15" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
    </svg>
    <span>Menu</span>
  </button>
  <button class="nav-btn cart-btn">
    <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
      <path d="M6 2L3 6V18C3 19.1046 3.89543 20 5 20H19C20.1046 20 21 19.1046 21 18V6L18 2H6Z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
      <path d="M16 10V4H8V10" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
      <path d="M16 14C16 15.1046 15.1046 16 14 16C12.8954 16 12 15.1046 12 14C12 12.8954 12.8954 12 14 12C15.1046 12 16 12.8954 16 14Z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
    </svg>
    <span>Cart</span>
  </button>
  <button class="nav-btn record-btn active">
    <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
      <path d="M12 8V12L15 15" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
      <circle cx="12" cy="12" r="9" stroke="currentColor" stroke-width="2"/>
    </svg>
    <span>Record</span>
  </button>
</footer>

<!-- Core Style -->
<style>
  /* Basic Reset */
  * {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
    font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif;
  }

  body {
    background-color: #f5f5f5;
    color: #333;
    min-height: 100vh;
    padding-bottom: 60px; /* Reserve bottom navigation height */
  }

  /* Top Navigation Bar */
  .top-nav {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 15px 20px;
    background-color: white;
    box-shadow: 0 2px 4px rgba(0,0,0,0.1);
  }

  .restaurant-info h1 {
    font-size: 20px;
    font-weight: 600;
    color: #333;
  }

  .restaurant-info p {
    font-size: 14px;
    color: #666;
  }

  .settings-btn {
    background: none;
    border: none;
    color: #333;
    cursor: pointer;
  }

  /* Page Title */
  .page-title {
    padding: 15px 20px;
  }

  .page-title h2 {
    font-size: 22px;
    font-weight: 600;
    color: #333;
  }

  /* Order Card */
  .order-card {
    background-color: white;
    border-radius: 12px;
    margin: 0 20px;
    padding: 20px;
    box-shadow: 0 2px 8px rgba(0,0,0,0.08);
  }

  /* Order date & place */
  .order-header {
    margin-bottom: 20px;
  }

  .order-date {
    font-size: 14px;
    color: #666;
  }

  /* Menu title (hidden text, used only for layout purposes) */
  .items-header {
    display: flex;
    justify-content: space-between;
    margin-bottom: 10px;
    font-size: 12px;
    color: #999;
  }

  .item-label { width: 50%; }
  .status-label { width: 30%; text-align: center; }
  .price-label { width: 20%; text-align: right; }

  /* Menu Details */
  .items-list {
    margin-bottom: 25px;
  }

  .dish-item {
    display: flex;
    justify-content: space-between;
    align-items: flex-start;
    padding: 12px 0;
    border-bottom: 1px solid #f0f0f0;
  }

  .dish-item:last-child {
    border-bottom: none;
  }

  .dish-info {
    width: 50%;
  }

  .dish-name {
    font-size: 16px;
    font-weight: 500;
    margin-bottom: 4px;
  }

  .dish-customization {
    font-size: 14px;
    color: #ff6b35; /* Customized information orange */
  }

  .dish-status {
    width: 30%;
    text-align: center;
    font-size: 15px;
    text-transform: capitalize; /* Capitalize the first letter */
  }

  .dish-price {
    width: 20%;
    text-align: right;
    font-size: 16px;
    font-weight: 500;
  }

  /* Total Amount */
  .total-amount {
    display: flex;
    justify-content: space-between;
    margin-top: 15px;
    padding-top: 15px;
    border-top: 2px solid #f0f0f0;
  }

  .total-amount p:first-child {
    font-size: 16px;
    color: #666;
  }

  .total-value {
    font-size: 18px;
    font-weight: 600;
    color: #333;
  }

  /* Bottom Navigation Bar */
  .bottom-nav {
    position: fixed;
    bottom: 0;
    left: 0;
    right: 0;
    display: flex;
    justify-content: space-around;
    background-color: white;
    padding: 8px 0;
    box-shadow: 0 -2px 4px rgba(0,0,0,0.05);
  }

  .nav-btn {
    display: flex;
    flex-direction: column;
    align-items: center;
    background: none;
    border: none;
    color: #999; /* Default gray */
    font-size: 12px;
    cursor: pointer;
    padding: 5px 15px;
  }

  .nav-btn svg {
    margin-bottom: 4px;
    width: 22px;
    height: 22px;
  }

  .nav-btn.active {
    color: #ff6b35; /* Selected status orange */
    font-weight: 500;
  }
</style>
